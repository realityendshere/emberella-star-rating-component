// Generated by CoffeeScript 1.8.0
import Ember from 'ember';
var EllaStarRatingComponent, get, set;

get = Ember.get;

set = Ember.set;

EllaStarRatingComponent = Ember.Component.extend({
  tagName: 'ella-star-rating',
  attributeBindings: ['disabled'],
  value: 0,
  maximum: 5,
  disabled: false,
  size: 14,
  outerStyle: (function() {
    var maximum, size, width;
    size = get(this, 'size');
    maximum = get(this, 'maximum');
    width = maximum * size;
    return ['height: ', size, 'px; width: ', width, 'px;'].join('');
  }).property('maximum', 'value'),
  innerStyle: (function() {
    var decimal, percent, size;
    size = get(this, 'size');
    decimal = get(this, 'value') / get(this, 'maximum');
    percent = decimal * 100;
    return ['width: ', percent, '%; background-position: 0 -', size, 'px;'].join('');
  }).property('maximum', 'value'),
  click: function(e) {
    var halfway, target, value, width;
    if (get(this, 'disabled')) {
      return;
    }
    target = e.target;
    if (target === get(this, 'element')) {
      width = this.$().width();
      halfway = width / 2;
      return set(this, 'value', e.offsetX < halfway ? 0 : get(this, 'maximum'));
    } else {
      width = this.$().children().width();
      value = Math.ceil(get(this, 'maximum') * e.offsetX / width);
      return set(this, 'value', value);
    }
  }
});

export default EllaStarRatingComponent;
